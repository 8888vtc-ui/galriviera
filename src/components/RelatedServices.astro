---
// Related Services Component - For internal linking and SEO
interface Props {
  currentPage?: string;
  currentLang?: string;
}

const { currentPage = "", currentLang = "fr" } = Astro.props;

// Define all related services with their links
const allServices = {
  fr: [
    { url: "/vtc-nice-aeroport-transfert", title: "Transfert A茅roport Nice", category: "transfert" },
    { url: "/vtc-nice-monaco-monte-carlo", title: "VTC Nice Monaco", category: "destination" },
    { url: "/vtc-nice-cannes-festival", title: "VTC Nice Cannes - Festival", category: "destination" },
    { url: "/vtc-nice-saint-tropez", title: "VTC Nice Saint-Tropez", category: "destination" },
    { url: "/chauffeur-prive-parlant-hebreu-nice", title: "Chauffeur H茅breu Nice", category: "special" },
    { url: "/vtc-business-congres-cannes", title: "VTC Business Cannes", category: "business" },
    { url: "/chauffeur-mariage-cote-azur", title: "Chauffeur Mariage", category: "event" },
    { url: "/vtc-eze-village-monaco", title: "Circuit ze Monaco", category: "tour" },
    { url: "/vtc-grasse-parfums", title: "Tour Grasse Parfums", category: "tour" },
    { url: "/vtc-antibes-juan-les-pins", title: "VTC Antibes Juan-les-Pins", category: "destination" },
    { url: "/mise-a-disposition-chauffeur-nice", title: "Mise  Disposition", category: "service" },
    { url: "/tour-lavande-provence", title: "Tour Lavande Provence", category: "tour" },
    { url: "/services", title: "Tous nos services", category: "main" },
    { url: "/a-propos", title: " propos de Galriviera", category: "main" },
    { url: "/contact", title: "Contact", category: "main" },
  ],
  en: [
    { url: "/en/nice-airport-transfer-private-driver", title: "Nice Airport Transfer", category: "transfert" },
    { url: "/en/nice-monaco-transfer", title: "Nice to Monaco", category: "destination" },
    { url: "/en/nice-cannes-transfer", title: "Nice to Cannes", category: "destination" },
    { url: "/en/hebrew-speaking-driver-nice", title: "Hebrew Speaking Driver", category: "special" },
  ],
  he: [
    { url: "/he/nice-airport-transfer-hebrew", title: "住注转 砖 转注驻 住", category: "transfert" },
    { url: "/he/nice-monaco-transfer-hebrew", title: "住注转 住-拽", category: "destination" },
    { url: "/he/hebrew-speaking-driver-nice-israel", title: " 专 注专转", category: "special" },
  ]
};

const services = allServices[currentLang] || allServices.fr;

// Filter out current page and get 6 random related services
const relatedServices = services
  .filter(s => !currentPage || !s.url.includes(currentPage))
  .slice(0, 6);

const titles = {
  fr: { related: "Services Connexes", discover: "D茅couvrez aussi" },
  en: { related: "Related Services", discover: "Also discover" },
  he: { related: "砖专转 拽砖专", discover: " " }
};

const t = titles[currentLang] || titles.fr;
---

<section class="related-services-section">
  <div class="container">
    <h2 class="related-title">{t.discover}</h2>
    <div class="related-grid">
      {relatedServices.map((service) => (
        <a href={service.url} class="related-card">
          <span class="related-icon">
            {service.category === 'transfert' && '锔'}
            {service.category === 'destination' && ''}
            {service.category === 'tour' && ''}
            {service.category === 'special' && '★'}
            {service.category === 'business' && ''}
            {service.category === 'event' && ''}
            {service.category === 'service' && ''}
            {service.category === 'main' && ''}
          </span>
          <span class="related-text">{service.title}</span>
        </a>
      ))}
    </div>
  </div>
</section>

<style>
  .related-services-section {
    padding: 3rem 0;
    background: #f8f9fa;
    border-top: 1px solid #e9ecef;
  }
  
  .related-title {
    text-align: center;
    font-size: 1.75rem;
    font-weight: 700;
    color: #002366;
    margin-bottom: 2rem;
  }
  
  .related-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    max-width: 900px;
    margin: 0 auto;
  }
  
  @media (max-width: 768px) {
    .related-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
  
  @media (max-width: 480px) {
    .related-grid {
      grid-template-columns: 1fr;
    }
  }
  
  .related-card {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem 1.25rem;
    background: #fff;
    border-radius: 10px;
    text-decoration: none;
    color: #333;
    box-shadow: 0 2px 8px rgba(0,0,0,0.06);
    transition: all 0.3s;
    border: 1px solid #e9ecef;
  }
  
  .related-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
    border-color: #d4af37;
    color: #002366;
  }
  
  .related-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
  }
  
  .related-text {
    font-size: 0.95rem;
    font-weight: 500;
    line-height: 1.3;
  }
</style>
